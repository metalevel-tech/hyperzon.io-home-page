import{isPartVisible,isFullyVisible}from"./module_helpers.min.js";function vimeoLoader(){var e=document.querySelectorAll(".video-container.vimeo-embed");const v={effect:[{opacity:"1",filter:"blur(1px)",transform:"scale(1.05)"},{opacity:"0",filter:"blur(100px)",transform:"scale(2)"}],timing:{duration:1e3,iterations:1,fill:"forwards"}};e.forEach(function(e){var t=e.dataset.videoId,i=e.dataset.videoTitle,r=e.dataset.videoAppId;{var o=e,n=t,a=i,l=r,s=0;function d(){var e;o.querySelector("iframe.video-embed-iframe")?c(50):((e=document.createElement("iframe")).className="video-embed-iframe",e.setAttribute("badge","0"),e.setAttribute("autopause","0"),e.setAttribute("app_id",l),e.setAttribute("player_id","0"),e.setAttribute("frameborder","0"),e.setAttribute("allow","autoplay; fullscreen; picture-in-picture"),e.setAttribute("mozallowfullscreen",""),e.setAttribute("webkitallowfullscreen",""),e.setAttribute("scrolling","no"),e.setAttribute("src",`https://player.vimeo.com/video/${n}?autoplay=${s}&portrait=0&title=0&pip=1&byline=0&title=0`),e.setAttribute("allow","autoplay"),e.setAttribute("title",a),e=e,o.appendChild(e),e.addEventListener("load",function(){c(350)})),document.removeEventListener("scroll",u),window.removeEventListener("resize",u),window.removeEventListener("orientationChange",u),o.removeEventListener("click",d)}function u(){isFullyVisible(o,100)&&d()}const m=o.querySelector("img");function c(e){setTimeout(function(){m.animate(v.effect,v.timing).finished.then(e=>{m.remove()}).catch(e=>{throw new Error("Animate error: "+e)})},e)}document.addEventListener("scroll",u),window.addEventListener("resize",u),window.addEventListener("orientationChange",u),u(),o.addEventListener("click",d)}})}export{vimeoLoader};